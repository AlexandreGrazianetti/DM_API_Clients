# ğŸ“¦ API Clients â€“ FastAPI

Cette API permet de gÃ©rer une liste de clients : crÃ©ation, consultation, modification et suppression.  
Elle est dÃ©veloppÃ©e avec **FastAPI**, suit une **architecture modulaire (Router â†’ Controller â†’ Service)** et utilise **SQLAlchemy** pour l'accÃ¨s Ã  la base de donnÃ©es.

---

## ğŸ› ï¸ PrÃ©requis

- Python **3.11.9** recommandÃ©
- `pip` installÃ©
- Un terminal ou invite de commande

---

## ğŸ“ Structure du projet

```

client\_api/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ **init**.py
â”‚   â”œâ”€â”€ main.py
â”‚   â”œâ”€â”€ database.py
â”‚   â”œâ”€â”€ models.py
â”‚   â”œâ”€â”€ schemas.py
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â””â”€â”€ client\_controller.py
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ client\_service.py
â”‚   â””â”€â”€ routes/
â”‚       â””â”€â”€ client\_router.py
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ unit/
â”‚   â”‚   â””â”€â”€ test\_models.py
â”‚   â”œâ”€â”€ integration/
â”‚   â”‚   â””â”€â”€ test\_routes.py
â”‚   â””â”€â”€ conftest.py
â”œâ”€â”€ requirements.txt
â””â”€â”€ run.py

````

---

## ğŸš€ Installation

### 1. CrÃ©er un environnement virtuel

```bash
python -m venv venv
# Windows
venv\Scripts\activate
# Linux/macOS
source venv/bin/activate
````

### 2. Installer les dÃ©pendances

```bash
pip install -r requirements.txt
```

---

## â–¶ï¸ Lancer l'application

```bash
python run.py
```

L'API sera disponible Ã  :

* **[http://localhost:8000](http://localhost:8000)**
* Documentation interactive : **[http://localhost:8000/docs](http://localhost:8000/docs)**

---

## ğŸ“¡ Endpoints disponibles

| MÃ©thode | URL                    | Description                               | Code retour                                  |
| ------- | ---------------------- | ----------------------------------------- | -------------------------------------------- |
| POST    | `/clients/`            | CrÃ©er un nouveau client                   | `201 Created`                                |
| GET     | `/clients/`            | Lister les clients (filtrage, pagination) | `200 OK`                                     |
| GET     | `/clients/{client_id}` | RÃ©cupÃ©rer un client par ID                | `200 OK`, `404 Not Found`                    |
| PUT     | `/clients/{client_id}` | Mettre Ã  jour un client                   | `200 OK`, `404 Not Found`, `400 Bad Request` |
| DELETE  | `/clients/{client_id}` | Supprimer un client                       | `204 No Content`, `404 Not Found`            |

### ParamÃ¨tres disponibles pour `GET /clients/`

* `skip` (int, default: 0) : dÃ©calage pour la pagination
* `limit` (int, default: 100) : nombre maximum de rÃ©sultats
* `actif` (bool) : filtrer par statut actif

---

## âœ… ExÃ©cution des tests

### ExÃ©cuter tous les tests

```bash
pytest
```

### Par catÃ©gorie

```bash
pytest tests/unit/
pytest tests/integration/
```

---

## ğŸ§¯ DÃ©pannage

### Erreur d'import

Ajoutez la racine du projet Ã  votre `PYTHONPATH` :

```bash
# Windows
set PYTHONPATH=%PYTHONPATH%;.
# Linux/macOS
export PYTHONPATH=$PYTHONPATH:.
```

### Installer manuellement les paquets si besoin

```bash
pip install fastapi==0.109.2
pip install pydantic==1.10.13
pip install sqlalchemy==2.0.27
pip install pytest==8.0.0
pip install email-validator==2.1.0
```
## âœ’ï¸ Auteurs

Marine ADAM
Colas CHASSAGNON
Alexandre GRAZIANETTI